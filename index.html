<!-- 
    |
    | Host     : himaptikaumri.github.io
    | Powered  : GitHub
    | Code     : HTML/CSS/JS
    | DB       : None
    | Develop  : e-Voting Himaptika 2023/2024
    | Location : Pekanbaru
    | Licence  : GNU v3
    |
 -->

 <html lang="id">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="icon" href="https://img.hotimg.com/Logo-HIMAPTIKA.png" type="image/png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HIMAPTIKA UMRI</title>
    <link rel="stylesheet" type="text/css" href="assets/index.css">
<body>
    <div class="navbar">
        <img src="https://raw.githubusercontent.com/tuahafriadi/tuahafriadi.github.io/refs/heads/main/mubes-himaptika-2024_2025/LOGO-FULL.png" class="logo">
    </div>
    <div class="container">
        <h1 class="headline">HIMAPTIKA UMRI
        <p>Himpunan Mahasiswa Pendidikan Informatika</p></h1>
    </div>
    <div class="footer">
        <p>&copy; 2019-2024 HIMAPTIKA-UMRI. Himpunan Mahasiswa Pendidikan Informatika. All Rights Reserved | Handled by E-Voting Himaptika 2023/2024. <a href="#" class="link-about-footer">About us</a></p>
    </div>

    <!--POPUP EDITION-->
<div class="modal-overlay" id="modalOverlay">
    <div class="modal">
        <h1>Peringatan Keamanan!</h1>
        <p id="modalContent">Klik kanan telah dinonaktifkan pada halaman ini.</p>
        <button onclick="closeModal()">Tutup</button>
    </div>
</div>

<script>
    function showAlertAndRefresh() {
        window.open('vote-now/');
    }


    // Fungsi untuk mendeteksi tipe perangkat berdasarkan userAgent
    function getDeviceType() {
        const ua = navigator.userAgent;
        if (/android/i.test(ua)) {
            return "Android";
        } else if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) {
            return "iOS";
        } else if (/windows phone/i.test(ua)) {
            return "Windows Phone";
        } else if (/tablet|ipad/i.test(ua)) {
            return "Tablet";
        } else if (/Mobile|Android|iP(ad|hone|od)|IEMobile|BlackBerry|Opera Mini/.test(ua)) {
            return "Smartphone";
        }
        return "Desktop";
    }

    // Fungsi untuk mendapatkan IP dan menampilkan informasi di modal
    function fetchAndDisplayInfo() {
        const browserInfo = navigator.userAgent;
        const deviceType = getDeviceType();

        // Mengambil IP menggunakan ipify
        fetch('https://api.ipify.org?format=json')
            .then(response => response.json())
            .then(data => {
                const userIP = data.ip;
                const content = `<strong>IP :</strong> ${userIP}\n<strong>Perangkat :</strong> ${deviceType}\n<strong>Browser :</strong> ${browserInfo}\n`;
                document.getElementById('modalContent').innerHTML = content; // Menggunakan innerHTML untuk memproses HTML
                openModal();
            })
            .catch(error => {
                console.error('Gagal mendapatkan IP:', error);
                const content = `Browser Anda: ${browserInfo}\nPerangkat Anda: ${deviceType}\nGagal mendapatkan IP.`;
                document.getElementById('modalContent').innerText = content;
                openModal();
            });
    }

    // Fungsi untuk membuka modal
    function openModal() {
        document.getElementById('modalOverlay').style.display = 'flex';
    }

    // Fungsi untuk menutup modal
    function closeModal() {
        document.getElementById('modalOverlay').style.display = 'none';
    }

    // Mencegah klik kanan dan menampilkan modal dengan info
    document.addEventListener('contextmenu', function(event) {
        event.preventDefault();
        fetchAndDisplayInfo();
    });
</script>


</body></html>
